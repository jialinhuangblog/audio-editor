(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8567:function(e,t,r){Promise.resolve().then(r.bind(r,5964)),Promise.resolve().then(r.bind(r,6923)),Promise.resolve().then(r.bind(r,733)),Promise.resolve().then(r.bind(r,3358)),Promise.resolve().then(r.bind(r,9824)),Promise.resolve().then(r.bind(r,9098)),Promise.resolve().then(r.bind(r,4903)),Promise.resolve().then(r.bind(r,3918))},5964:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var n=r(7437),s=r(2265);let l=(0,r(5708).sj)({sections:{numberInput:{isOpen:!0,items:[{text:"The displayed value updates immediately while typing, but onChange is not triggered until input is confirmed",checked:!1},{text:"Clicking outside the input field removes focus and changes the value",checked:!1},{text:"Clicking on the native step buttons immediately changes the value (\uD83D\uDD3C\uD83D\uDD3D)",checked:!1},{text:"Pressing up arrow or down arrow keys immediately changes the value (⬆️⬇️)",checked:!1},{text:"Entire text is selected when the input field gains focus",checked:!1},{text:"Entire text is selected after using the native step buttons",checked:!1},{text:"Entire text is selected after using the up arrow or down arrow keys",checked:!1},{text:"Pressing Enter confirms the new value and removes focus",checked:!1},{text:"Pressing Escape reverts to the original value and removes focus",checked:!1},{text:"Leading zeros are automatically removed",checked:!1},{text:"Negative values are automatically adjusted to the minimum allowed value",checked:!1},{text:"Decimal values are automatically rounded to the nearest integer",checked:!1},{text:"Invalid inputs (non-numeric) revert to the previous valid value (\uD83E\uDD2F not sure if I did it right)",checked:!1}]},playControls:{isOpen:!0,items:[{text:"Current Time is always between 0ms and the Duration",checked:!1},{text:"Current Time adjusts if it exceeds the newly set Duration",checked:!1},{text:"Duration is always between 100ms and 6000ms",checked:!1},{text:"Current Time and Duration are always multiples of 10ms",checked:!1},{text:"Current Time and Duration are always positive integers",checked:!1},{text:"Playhead position updates only after specific actions on Current Time input",checked:!1}]},ruler:{isOpen:!0,items:[{text:"Clicking or dragging on the Ruler updates the Current Time and Playhead position",checked:!1},{text:"Horizontal scrolling of the Ruler is synchronized with the Keyframe List",checked:!1},{text:"Ruler length visually represents the total Duration (1ms = 1px)",checked:!1},{text:"Ruler length updates only after specific actions on Duration input",checked:!1}]},trackList:{isOpen:!0,items:[{text:"Vertical scrolling of the Track List is synchronized with the Keyframe List",checked:!1}]},keyframeList:{isOpen:!0,items:[{text:"Vertical scrolling is synchronized with the Track List",checked:!1},{text:"Horizontal scrolling is synchronized with the Ruler",checked:!1},{text:"Segment length visually represents the total Duration (1ms = 1px)",checked:!1},{text:"Segment length updates only after specific actions on Duration input",checked:!1}]},playhead:{isOpen:!0,items:[{text:"Playhead moves in sync with the Ruler and Keyframe List during horizontal scrolling",checked:!1},{text:"Playhead maintains its relative position during horizontal scrolling",checked:!1},{text:"Playhead is visible only when within the Timeline's visible area",checked:!1}]}}});var i=r(2234);function a(){let{sections:e}=(0,i.R)(l),t=e=>{l.sections[e].isOpen=!l.sections[e].isOpen},r=(e,t)=>{l.sections[e].items[t].checked=!l.sections[e].items[t].checked},s=(s,l)=>{let i=e[l];return(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("button",{onClick:()=>t(l),className:"flex items-center text-lg font-bold mb-2 rounded w-full text-left",children:s}),i.isOpen&&(0,n.jsx)("div",{className:"ml-6",children:i.items.map((e,t)=>(0,n.jsxs)("label",{className:"flex items-start mb-1 cursor-pointer p-1 rounded",children:[(0,n.jsx)("input",{type:"checkbox",checked:e.checked,onChange:()=>r(l,t),className:" mr-2"}),(0,n.jsx)("span",{className:"text-xs select-none",children:e.text})]},t))})]},l)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Checklist"}),s("Number Input Field","numberInput"),s("Play Controls Behavior","playControls"),s("Ruler Behavior","ruler"),s("Track List Behavior","trackList"),s("Keyframe List Behavior","keyframeList"),s("Playhead Behavior","playhead")]})}let c=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Readme"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h2",{className:"text-xl text-[#f48f27] font-semibold mb-2",children:"Package Added (commit: 53373c)"}),(0,n.jsx)("a",{href:"https://github.com/phase-software/timeline-challenge",target:"_blank",children:"https://github.com/phase-software/timeline-challenge"}),(0,n.jsx)("h2",{className:"text-xl text-[#17b3fb] mt-8 font-semibold mb-2",children:"Problem-Solving Commits"}),(0,n.jsx)("p",{children:"- 640296"}),(0,n.jsx)("p",{children:"- 488334"}),(0,n.jsx)("p",{children:"- 2e6d11"}),(0,n.jsx)("p",{children:"- a10276"}),(0,n.jsx)("p",{children:"- 5e9a79"}),(0,n.jsx)("p",{children:"- 9b6e0d"}),(0,n.jsx)("h2",{className:"text-xl text-[#1aea9d] mt-8 font-semibold mb-2",children:"I hide scrollbar `scrollbar-width: none;`"}),(0,n.jsx)("p",{children:"The scrollbar has been hidden. If you are using Windows with a physical mouse, you can hold the Shift key while scrolling to achieve horizontal scrolling."}),(0,n.jsx)("h2",{className:"text-xl text-[#fc44b2] mt-8 font-semibold mb-2",children:"My webiste"}),(0,n.jsx)("a",{target:"_blank",href:"https://jialin00.com",children:"jialin00.com"})]})]});function o(){let[e,t]=(0,s.useState)(!1);return(0,n.jsxs)("div",{className:"relative flex flex-col p-4 h-[calc(100vh-300px)] w-full  border-t-2 border-solid  overflow-auto",children:[(0,n.jsx)("button",{onClick:()=>t(!e),className:"mb-4 border-dashed border-1 border",children:e?"Show Readme":"Show Checklist"}),e?(0,n.jsx)(a,{}):(0,n.jsx)(c,{})]})}},6923:function(e,t,r){"use strict";r.r(t),r.d(t,{KeyframeList:function(){return u}});var n=r(7437),s=r(2265),l=r(9098),i=r(4655),a=r(3741),c=r(32),o=r(2234);let u=()=>{let e=(0,s.useRef)(null),t=(0,i.T)(e),r=(0,a.x)(e),{tracks:u,duration:d}=(0,o.R)(c.yq);return(0,s.useEffect)(()=>{e.current&&(e.current.scrollLeft=t)},[t]),(0,s.useEffect)(()=>{e.current&&(e.current.scrollTop=r)},[r]),(0,n.jsx)("div",{ref:e,className:"px-4 min-w-0 overflow-auto","data-testid":"keyframe-list",children:u.map((e,t)=>(0,n.jsx)(l.Segment,{track:e,color:c.rY[t%c.rY.length],duration:d},"".concat(e,"_").concat(t)))})}},733:function(e,t,r){"use strict";r.r(t),r.d(t,{PlayControls:function(){return o}});var n=r(7437),s=r(32),l=r(2265),i=r(2234);let a=["Backspace","Delete","ArrowUp","ArrowDown","Enter","Escape",".","-"],c=e=>{let t=Number(e);return!isNaN(t)&&t>=0},o=()=>{let{duration:e,time:t}=(0,i.R)(s.yq),r=(0,l.useCallback)(e=>{s.yq.time=e},[]),o=(0,l.useCallback)(e=>{s.yq.duration=e},[]),[u,d]=(0,l.useState)(t.toString()),[h,m]=(0,l.useState)(e.toString()),f=(0,l.useRef)(!1),x=(0,l.useRef)(null),p=(0,l.useRef)(t.toString()),b=(0,l.useRef)(t.toString()),v=(0,l.useRef)(!1),g=(0,l.useRef)(null),y=(0,l.useRef)(t.toString()),k=(0,l.useRef)(t.toString()),w=(0,l.useRef)(!1),j=(e,t)=>{let n=e.target.value.replace(/^0+(?=\d)/,""),s=parseFloat(n);s<0&&(n="0"),s=Math.round(parseFloat(n));let l=t?m:d,i=t?o:r;if(""===n){l("");return}let a=t?y:p;""===n||c(n)?(l(s.toString()),10===Math.abs(s-Number(a.current))&&(i(Math.round(s)),e.target.select()),a.current=n.toString()):l(a.current)},N=(0,l.useCallback)((n,l)=>{let i=l?h:u,a=l?r:o;if(!f.current){let n=(0,s.ME)(Number(i));l?(m((n=Math.max(100,Math.min(6e3,n))).toString()),o(n),n<t&&(a(n),d(n.toString()))):(d((n=Math.min(n,e)).toString()),r(n)),(l?y:p).current=n.toString()}f.current=!1},[u,r,h,o,t,e]),C=(0,l.useCallback)((e,t)=>{t?k.current=e.target.value:b.current=e.target.value,e.target.select()},[]),R=(0,l.useCallback)(e=>{var t,n;f.current=!0,e?(m(k.current),o(Number(k.current)),null===(t=g.current)||void 0===t||t.blur()):(d(b.current),r(Number(b.current)),null===(n=x.current)||void 0===n||n.blur())},[r,o]),E=(0,l.useCallback)((e,t)=>{let n=t?g:x,s=t?m:d,l=t?o:r,i=t?h:u;if(e.key>="0"&&e.key<="9"||e.key>="Numpad0"&&e.key<="Numpad9"||a.includes(e.key)){if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();let r="ArrowUp"===e.key?10:-10,n=Math.max(Number(i)+r,0);s(n.toString()),l(n),(t?w:v).current=!0}else if("Enter"===e.key){var c;null===(c=n.current)||void 0===c||c.blur()}else"Escape"===e.key&&R(t);return}e.preventDefault()},[u,h,r,o,R]);return(0,l.useEffect)(()=>{v.current&&x.current&&(x.current.select(),v.current=!1)},[u]),(0,l.useEffect)(()=>{t!==Number(u)&&(d(t.toString()),r(t))},[t]),(0,l.useEffect)(()=>{w.current&&g.current&&(g.current.select(),w.current=!1)},[h]),(0,n.jsxs)("div",{className:"flex flex-wrap items-center text-white justify-between border-b border-r border-solid border-gray-700 px-2 text-xs","data-testid":"play-controls",children:[(0,n.jsxs)("fieldset",{className:"flex gap-1",children:["Current",(0,n.jsx)("input",{ref:x,className:"bg-gray-700 px-1 rounded","data-testid":"current-time-input",min:0,max:e,step:10,type:"number",value:u,onInput:e=>j(e,!1),onBlur:e=>N(e,!1),onFocus:e=>C(e,!1),onKeyDown:e=>E(e,!1)})]}),"-",(0,n.jsxs)("fieldset",{className:"flex gap-1",children:[(0,n.jsx)("input",{ref:g,className:"bg-gray-700 px-1 rounded","data-testid":"duration-input",min:100,max:6e3,step:10,type:"number",value:h,onInput:e=>j(e,!0),onBlur:e=>N(e,!0),onFocus:e=>C(e,!0),onKeyDown:e=>E(e,!0)}),"Duration"]})]})}},3358:function(e,t,r){"use strict";r.r(t),r.d(t,{Playhead:function(){return a}});var n=r(7437),s=r(32),l=r(2265),i=r(2234);let a=()=>{let[e,t]=(0,l.useState)(!1),{scrollX:r,duration:a,time:c}=(0,i.R)(s.yq),o=(0,l.useRef)(0),u=(0,l.useCallback)(e=>{let t=Math.min(Math.max(e,0),a);s.yq.time=t},[a]),d=(0,l.useCallback)(()=>{t(!1)},[]),h=(0,l.useCallback)(t=>{if(e){let e=Date.now();if(e-o.current>16){let n=Math.max(316,Math.min(t.clientX+r,316+a));u((0,s.ME)(n-316)),o.current=e}}},[e,a,r,u]);(0,l.useEffect)(()=>(e&&(document.addEventListener("mouseup",d),document.addEventListener("mousemove",h)),()=>{document.removeEventListener("mouseup",d),document.removeEventListener("mousemove",h)}),[e,d,h]);let m=c-r;return(0,n.jsx)("div",{className:"absolute  h-full border-l-2 border-solid border-yellow-600 z-10","data-testid":"playhead",style:{left:"".concat(316,"px"),cursor:"ew-resize",transform:"translateX(calc(".concat(m,"px - 50%))"),visibility:m<-16?"hidden":"visible"},onMouseDown:e=>{t(!0),e.preventDefault()},children:(0,n.jsx)("div",{className:"absolute border-solid border-[5px] border-transparent border-t-yellow-600 -translate-x-1.5"})})}},9824:function(e,t,r){"use strict";r.r(t),r.d(t,{Ruler:function(){return c}});var n=r(7437),s=r(4655),l=r(32),i=r(2265),a=r(2234);let c=()=>{let e=(0,i.useRef)(null),t=(0,s.T)(e),{duration:r,positions:c}=(0,a.R)(l.yq),o=(0,i.useCallback)(t=>{if(e.current){let n=e.current.getBoundingClientRect(),s=e.current.scrollLeft,i=Math.min(Math.max(t.clientX-n.left+s-16,0),r);l.yq.time=(0,l.ME)(i)}},[r]);return(0,i.useEffect)(()=>{e.current&&(e.current.scrollLeft=t)},[t]),(0,n.jsx)("div",{ref:e,className:"cursor-pointer overflow-auto relative py-2 min-w-0 border-b border-solid border-gray-700 overflow-x-auto overflow-y-hidden",style:{paddingLeft:16,paddingRight:16},"data-testid":"ruler",children:(0,n.jsx)("div",{onClick:o,className:"h-6 rounded-md bg-white/25","data-testid":"ruler-bar",style:{width:"".concat(r,"px")},children:c.map((e,t)=>t%5==0&&t?(0,n.jsxs)("div",{className:"absolute flex flex-col justify-between text-center ml-[-0.5px] text-[7px] h-7 text-[#fafafa] w-[1px]",style:{left:"".concat(e+.75,"px"),width:30},children:[(0,n.jsxs)("p",{children:[" ",e]}),(0,n.jsx)("p",{children:"|"})]},e):null)})})}},9098:function(e,t,r){"use strict";r.r(t),r.d(t,{Segment:function(){return c}});var n=r(7437),s=r(32),l=r(2265),i=r(2234);let a=(e,t)=>{let r=[],n=t/2;for(let s=0;s<e;s+=2){let l;l=s<20?s/20*n:s>e-20?(e-s)/20*n:Math.max(1,Math.min(t,n+(Math.random()-.5)*8)),r.push({x:s,height:Math.max(1,Math.round(l))}),n=l}return r},c=e=>{let{duration:t,color:r,track:c}=e,{positions:o,selectTrack:u}=(0,i.R)(s.yq),d=(0,l.useMemo)(()=>a(t,22),[t]),h=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=h.current;if(!e)return;let t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),t.fillStyle=r,d.forEach(e=>{t.globalAlpha=.7,t.fillRect(e.x,(24-e.height)/2,1,e.height)}),o.forEach((e,r)=>{t.globalAlpha=1,r%5==0&&r&&t.fillRect(e-.25,0,.5,24)}))},[d,r,o]),(0,n.jsx)("div",{className:"py-2","data-testid":"segment",style:{width:"".concat(t,"px")},children:(0,n.jsx)("div",{className:"relative h-6 rounded-md flex items-center ".concat(u===c?"bg-white/30":"bg-white/10"),children:(0,n.jsx)("canvas",{ref:h,width:t,height:24,className:"absolute top-0 left-0"})})})}},4903:function(e,t,r){"use strict";r.r(t),r.d(t,{Timeline:function(){return o}});var n=r(7437),s=r(3358),l=r(9824),i=r(3918),a=r(6923),c=r(733);let o=()=>(0,n.jsxs)("div",{className:"relative h-[300px] w-full grid grid-cols-[300px_1fr] grid-rows-[40px_1fr]  bg-[#222222] border-t-2 border-solid border-gray-700 overflow-hidden","data-testid":"timeline",children:[(0,n.jsx)(c.PlayControls,{}),(0,n.jsx)(l.Ruler,{}),(0,n.jsx)(i.TrackList,{}),(0,n.jsx)(a.KeyframeList,{}),(0,n.jsx)(s.Playhead,{})]})},3918:function(e,t,r){"use strict";r.r(t),r.d(t,{TrackList:function(){return c}});var n=r(7437),s=r(3741),l=r(32),i=r(2265),a=r(2234);let c=()=>{let e=(0,i.useRef)(null),t=(0,s.x)(e),{tracks:r,selectTrack:c}=(0,a.R)(l.yq);return(0,i.useEffect)(()=>{e.current&&(e.current.scrollTop=t)},[t]),(0,n.jsx)("div",{ref:e,className:"grid grid-flow-row auto-rows-[40px] border-r border-solid border-r-gray-700 text-white  overflow-auto","data-testid":"track-list",children:r.map((e,t)=>(0,n.jsxs)("div",{onClick:()=>l.yq.selectTrack=e,className:"cursor-pointer my-2 pl-2 pr-0 flex justify-between items-center ".concat(c===e?"bg-white/30":""),style:{color:l.rY[t%l.rY.length]},children:[(0,n.jsxs)("div",{children:["Track ",e]}),(0,n.jsx)("div",{children:(0,n.jsx)("svg",{width:16,height:16,fill:"white","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M15.5 7.5v1H.5v-1z"})})})]},"".concat(e,"_").concat(t)))})}},4655:function(e,t,r){"use strict";r.d(t,{T:function(){return i}});var n=r(2265),s=r(2234),l=r(32);let i=e=>{let t=(0,s.R)(l.yq);return(0,n.useEffect)(()=>{let t=()=>{e.current&&(l.yq.scrollX=e.current.scrollLeft)},r=e.current;return r&&r.addEventListener("scroll",t),()=>{r&&r.removeEventListener("scroll",t)}},[e]),t.scrollX}},3741:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(2265),s=r(2234),l=r(32);let i=e=>{let t=(0,s.R)(l.yq);return(0,n.useEffect)(()=>{let t=()=>{e.current&&(l.yq.scrollY=e.current.scrollTop)},r=e.current;return r&&r.addEventListener("scroll",t),()=>{r&&r.removeEventListener("scroll",t)}},[e]),t.scrollY}},32:function(e,t,r){"use strict";r.d(t,{ME:function(){return s},rY:function(){return l},yq:function(){return n}});let n=(0,r(5708).sj)({scrollX:0,scrollY:0,time:400,duration:800,selectTrack:"",tracks:Array.from({length:15},(e,t)=>String.fromCharCode(65+t)),get positions(){return Array.from({length:Math.floor((this.duration+100)/100)},(e,t)=>100*t)}});function s(e){return 10*Math.round(e/10)}let l=["#9f58e0","#17b3fb","#f48f27","#fc44b2","#dcdc24","#1aea9d","#fafafa"]}},function(e){e.O(0,[234,971,117,744],function(){return e(e.s=8567)}),_N_E=e.O()}]);